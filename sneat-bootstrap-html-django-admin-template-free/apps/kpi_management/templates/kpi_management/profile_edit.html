{% extends layout_path %}{% load static %}{% block title %}Edit Profile{% endblock %}{% block content %}
<div class="row"><div class="col-12"><div class="card">
  <div class="card-header"><h5 class="mb-0">Edit Profile - {{ user_obj.username }}</h5></div>
  <div class="card-body"><form method="post" enctype="multipart/form-data">{% csrf_token %}
    <div class="row mb-4"><div class="col-md-6"><h6>Username</h6><p>{{ user_obj.username }}</p></div>
    <div class="col-md-6"><h6>Email</h6><p>{{ user_obj.email }}</p></div></div>
    <div class="row mb-3"><div class="col-md-6"><label class="form-label">{{ form.role.label }}</label>{{ form.role }}{% if form.role.errors %}<div class="text-danger">{{ form.role.errors }}</div>{% endif %}</div>
    <div class="col-md-6"><label class="form-label">{{ form.phone.label }}</label>{{ form.phone }}{% if form.phone.errors %}<div class="text-danger">{{ form.phone.errors }}</div>{% endif %}</div></div>
    <div class="mb-3"><label class="form-label">{{ form.address.label }}</label>{{ form.address }}{% if form.address.errors %}<div class="text-danger">{{ form.address.errors }}</div>{% endif %}</div>
    <div class="mb-3"><label class="form-label">{{ form.bio.label }}</label>{{ form.bio }}{% if form.bio.errors %}<div class="text-danger">{{ form.bio.errors }}</div>{% endif %}</div>
    <div class="mb-3"><label class="form-label">{{ form.avatar.label }}</label>{{ form.avatar }}{% if form.avatar.errors %}<div class="text-danger">{{ form.avatar.errors }}</div>{% endif %}
    {% if profile.avatar %}<div class="mt-2"><img src="{{ profile.avatar.url }}" alt="Avatar" style="max-width: 200px;"></div>{% endif %}</div>
    <div class="d-flex justify-content-end gap-2"><a href="{% url 'kpi_management:user-list' %}" class="btn btn-label-secondary">Batal</a>
    <button type="submit" class="btn btn-primary">Simpan</button></div>
  </form></div>
</div></div></div>
{% endblock %}

